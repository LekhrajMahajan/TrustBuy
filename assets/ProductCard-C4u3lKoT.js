import{s as b,u as p,a as u,j as e,L as x,S as k,t as n}from"./index-C-xu5ddY.js";import{Z as f}from"./zap-CMWhSjSV.js";import{S as w}from"./star-Bdx35W03.js";const v=({product:t,onEdit:r,onDelete:l})=>{const{addToCart:c}=b(),{user:d}=p(),i=u();if(!t)return null;const g=o=>{if(o.preventDefault(),!d){n.error("Login Required",{description:"You must be logged in to add items to your cart.",action:{label:"Login Now",onClick:()=>i("/login")}});return}c(t),n(`${t.name} added to cart!`,{description:"Item has been successfully added."})},h=o=>{if(o.preventDefault(),!d){n.error("Login Required",{description:"You must be logged in to buy items.",action:{label:"Login Now",onClick:()=>i("/login")}});return}c(t),i("/payment")},a=Number(t.currentPrice)||0,s=Number(t.basePrice)||0,m=s>a?Math.round((s-a)/s*100):0;return e.jsxs("div",{className:"group relative flex flex-col w-full bg-transparent",children:[e.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden bg-gray-100 dark:bg-gray-800 rounded-sm mb-4",children:[e.jsx(x,{to:`/product/${t._id}`,className:"block h-full w-full",children:e.jsx("img",{src:t.image||"https://via.placeholder.com/300",alt:t.name,className:"w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-105",loading:"lazy"})}),e.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[m>0&&e.jsxs("span",{className:"bg-white dark:bg-gray-900/90 backdrop-blur px-2 py-1 text-[10px] uppercase font-bold tracking-widest text-red-600",children:["-",m,"%"]}),t.stock>0&&t.stock<5&&e.jsx("span",{className:"bg-white dark:bg-gray-900/90 backdrop-blur px-2 py-1 text-[10px] uppercase font-bold tracking-widest text-orange-600",children:"Low Stock"})]}),e.jsx("div",{className:"absolute bottom-1.5 left-1.5 right-1.5 sm:bottom-4 sm:left-4 sm:right-4 translate-y-0 opacity-100 md:translate-y-4 md:opacity-0 md:group-hover:translate-y-0 md:group-hover:opacity-100 transition-all duration-300 ease-out flex gap-1 sm:gap-2",children:!r&&!l?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:g,disabled:t.stock===0,className:"flex-1 bg-white dark:bg-gray-900/95 sm:bg-white dark:bg-gray-900 backdrop-blur sm:backdrop-filter-none text-black dark:text-white h-8 sm:h-10 uppercase text-[8px] sm:text-[10px] font-bold tracking-tight sm:tracking-widest hover:bg-black dark:bg-gray-800 hover:text-white transition-colors shadow-sm sm:shadow-lg flex items-center justify-center gap-1 sm:gap-2",children:[e.jsx(k,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),e.jsx("span",{className:"truncate",children:t.stock===0?"Sold":"Add"})]}),t.stock>0&&e.jsxs("button",{onClick:h,className:"flex-1 bg-black dark:bg-yellow border border-transparent dark:border-white backdrop-blur sm:backdrop-filter-none text-white dark:text-white h-8 sm:h-10 uppercase text-[8px] sm:text-[10px] font-bold tracking-tight sm:tracking-widest hover:bg-[#fdc600] hover:text-black dark:hover:text-black transition-colors shadow-sm sm:shadow-lg flex items-center justify-center gap-1 sm:gap-2",children:[e.jsx(f,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),e.jsx("span",{className:"truncate",children:"Buy Now"})]})]}):e.jsxs("div",{className:"flex w-full gap-1 sm:gap-2",children:[r&&e.jsx("button",{onClick:()=>r(t),className:"flex-1 bg-white dark:bg-gray-900/95 sm:bg-white dark:bg-gray-900 text-black dark:text-white h-8 sm:h-10 text-[9px] sm:text-xs font-bold hover:bg-black dark:bg-gray-800 hover:text-white shadow-sm sm:shadow-lg backdrop-blur",children:"Edit"}),l&&e.jsx("button",{onClick:()=>l(t._id),className:"flex-1 bg-red-600/95 sm:bg-red-600 text-white dark:text-white h-8 sm:h-10 text-[9px] sm:text-xs font-bold hover:bg-red-700 shadow-sm sm:shadow-lg backdrop-blur",children:"Delete"})]})})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(x,{to:`/product/${t._id}`,children:e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 group-hover:underline decoration-1 underline-offset-4 line-clamp-1",children:t.name})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:["₹",a.toLocaleString("en-IN")]}),s>a&&e.jsxs("span",{className:"text-gray-400 line-through text-xs",children:["₹",s.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(w,{className:"w-3 h-3 fill-black text-black dark:text-white"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.rating||0})]})]})]})]})};export{v as P};
