import{r as n,j as e,b as p,t as h}from"./index-DgW0pJwd.js";import{L as j}from"./loader-circle-BbNp5iAJ.js";const v=()=>{const[b,m]=n.useState(!0),[r,c]=n.useState(!1),[o,x]=n.useState(!1),[a,l]=n.useState({name:"",email:"",phone:"",birthDate:"",address:"",city:"",pincode:""});n.useEffect(()=>{(async()=>{try{const t=await p.getProfile(),u=t.birthDate?new Date(t.birthDate).toISOString().split("T")[0]:"";l({name:t.name||"",email:t.email||"",phone:t.phone||"",birthDate:u,address:t.address||"",city:t.city||"",pincode:t.pincode||""})}catch(t){console.error(t)}finally{m(!1)}})()},[]);const g=async s=>{s.preventDefault(),x(!0);try{await p.updateProfile(a),c(!1),h.success("Profile Updated")}catch{h.error("Update Failed")}finally{x(!1)}},i="w-full border-b border-gray-200 dark:border-gray-700 py-3 text-sm focus:border-black dark:border-white focus:outline-none bg-transparent placeholder:text-gray-300 transition-colors disabled:opacity-50 disabled:border-transparent",d="block text-xs font-bold uppercase tracking-widest text-gray-500 dark:text-gray-400 mb-1";return b?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-gray-900",children:e.jsx(j,{className:"w-6 h-6 animate-spin"})}):e.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 pt-24 pb-12",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid md:grid-cols-12 gap-12",children:[e.jsxs("div",{className:"md:col-span-4",children:[e.jsxs("h1",{className:"text-4xl font-extrabold uppercase tracking-tighter mb-4",children:["Account",e.jsx("br",{}),"Settings"]}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-8",children:"Manage your personal data and shipping preferences."}),e.jsx("div",{className:"hidden md:block space-y-2",children:e.jsx("div",{className:"w-12 h-1 bg-[#fdc600]"})})]}),e.jsx("div",{className:"md:col-span-8",children:e.jsxs("form",{onSubmit:g,className:"space-y-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-bold uppercase tracking-tight border-b border-black dark:border-white pb-2 mb-6",children:"Personal Details"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:d,children:"Full Name"}),e.jsx("input",{type:"text",disabled:!r,value:a.name,onChange:s=>l({...a,name:s.target.value}),className:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:d,children:"Email Address"}),e.jsx("input",{type:"email",disabled:!0,value:a.email,className:`${i} text-gray-400 cursor-not-allowed`})]}),e.jsxs("div",{children:[e.jsx("label",{className:d,children:"Phone Number"}),e.jsx("input",{type:"tel",disabled:!r,value:a.phone,onChange:s=>l({...a,phone:s.target.value}),className:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:d,children:"Date of Birth"}),e.jsx("input",{type:"date",disabled:!r,value:a.birthDate,onChange:s=>l({...a,birthDate:s.target.value}),className:i})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-bold uppercase tracking-tight border-b border-black dark:border-white pb-2 mb-6",children:"Shipping Address"}),e.jsxs("div",{children:[e.jsx("label",{className:d,children:"Address Line"}),e.jsx("input",{type:"text",disabled:!r,value:a.address,onChange:s=>l({...a,address:s.target.value}),className:i,placeholder:"Street, Sector, Apt..."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:d,children:"City"}),e.jsx("input",{type:"text",disabled:!r,value:a.city,onChange:s=>l({...a,city:s.target.value}),className:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:d,children:"Pincode"}),e.jsx("input",{type:"text",disabled:!r,value:a.pincode,onChange:s=>l({...a,pincode:s.target.value}),className:i})]})]})]}),e.jsx("div",{className:"pt-8 flex justify-end gap-4",children:r?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-6 py-3 bg-transparent text-gray-500 dark:text-gray-400 text-xs font-bold uppercase tracking-widest hover:text-black dark:hover:text-white transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"px-8 py-3 bg-[#fdc600] text-black dark:text-black text-xs font-bold uppercase tracking-widest hover:bg-yellow-500 transition-all",children:o?"Saving...":"Save Changes"})]}):e.jsx("button",{type:"button",onClick:()=>c(!0),className:"px-8 py-3 bg-black dark:bg-gray-800 text-white dark:text-white text-xs font-bold uppercase tracking-widest hover:bg-gray-800 transition-all",children:"Edit Profile"})})]})})]})})})};export{v as default};
