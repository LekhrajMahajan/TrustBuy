import{c as b,w as p,a as k,r as n,j as e,P as f,l as u,v as y}from"./index-DgW0pJwd.js";import{M as v}from"./map-pin-BEWlS7dD.js";import{T as x}from"./truck-XCqVXaZL.js";import{A as j}from"./arrow-left-i85if6nL.js";const w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],N=b("clock",w),O=()=>{const{id:d}=p(),g=k(),[i,l]=n.useState(1),[t,m]=n.useState(null);if(n.useEffect(()=>{(async()=>{try{const a=await y.getOrderById(d);m(a),a.isDelivered?l(4):a.isPaid?l(1):l(0)}catch(a){console.error("Failed to fetch order",a)}})()},[d]),!t)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-gray-900",children:e.jsx("div",{className:"w-6 h-6 border-2 border-black dark:border-white border-t-transparent rounded-full animate-spin"})});const r=(s,a)=>{const c=new Date(s);return c.setDate(c.getDate()+a),c.toLocaleDateString("en-US",{month:"short",day:"numeric"})},o=[{title:"Order Placed",date:t?r(t.createdAt,0):"...",icon:f},{title:"Processing",date:t?r(t.createdAt,1):"Pending",icon:v},{title:"In Transit",date:t?r(t.createdAt,1):"Pending",icon:x},{title:"Out for Delivery",date:t?r(t.createdAt,2):"Expected Soon",icon:x},{title:"Delivered",date:t?.isDelivered?new Date(t.deliveredAt).toLocaleDateString():t?r(t.createdAt,3):"Pending",icon:u}];return e.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 pt-24 pb-12",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-12 border-b border-black dark:border-white pb-6",children:[e.jsxs("button",{onClick:()=>g("/orders"),className:"text-xs font-bold uppercase tracking-widest text-gray-400 hover:text-black dark:hover:text-white mb-4 flex items-center gap-2 transition-colors",children:[e.jsx(j,{className:"w-3 h-3"})," Back to Orders"]}),e.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold uppercase tracking-tighter text-black dark:text-white mb-2",children:"Tracking"}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 md:gap-8",children:[e.jsxs("p",{className:"text-sm font-mono text-gray-500 dark:text-gray-400",children:["ID: ",e.jsxs("span",{className:"text-black dark:text-white font-bold",children:["#",d.toUpperCase()]})]}),e.jsx("div",{className:"h-px w-10 bg-gray-300 hidden md:block"}),e.jsxs("p",{className:"text-sm font-mono text-gray-500 dark:text-gray-400",children:["EST: ",e.jsx("span",{className:"text-black dark:text-white font-bold",children:r(t.createdAt,3)})]})]})]}),e.jsx("div",{className:"relative pl-4 md:pl-0",children:e.jsx("div",{className:"space-y-0",children:o.map((s,a)=>{const c=a<=i,h=a===o.length-1;return e.jsxs("div",{className:"flex gap-8 relative pb-12 last:pb-0 group",children:[!h&&e.jsx("div",{className:"absolute left-[19px] top-10 w-px h-full bg-gray-100 dark:bg-gray-800 group-hover:bg-gray-200 dark:bg-gray-700 transition-colors",children:a<i&&e.jsx("div",{className:"w-full h-full bg-black dark:bg-gray-800"})}),e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center z-10 border transition-all duration-500 ${c?"bg-black dark:bg-gray-800 border-black dark:border-white text-white dark:text-white":"bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700 text-gray-300"}`,children:e.jsx(s.icon,{className:"w-4 h-4"})}),e.jsxs("div",{className:`pt-2 transition-all duration-500 ${c?"opacity-100":"opacity-40 grayscale"}`,children:[e.jsx("h3",{className:"text-xl font-bold uppercase tracking-tight leading-none mb-1",children:s.title}),e.jsx("p",{className:"text-xs font-mono text-gray-500 dark:text-gray-400",children:s.date}),a===i&&e.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 px-3 py-1 bg-[#fdc600] text-black dark:text-black text-[10px] font-bold uppercase tracking-widest",children:[e.jsx(N,{className:"w-3 h-3"})," Current Status"]})]})]},a)})})})]})})};export{O as default};
